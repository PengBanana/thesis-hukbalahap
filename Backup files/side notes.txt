CODE NI FRANCIS
Import for Sensor Reading
import threading, time, spidev,numpy as np, Adafruit_GPIO.SPI as SPI, Adafruit_MCP3008
from time import sleep

#end of import
#Sensor Reading Start
SPI_PORT   = 0
SPI_DEVICE = 0
mcp = Adafruit_MCP3008.MCP3008(spi=SPI.SpiDev(SPI_PORT, SPI_DEVICE))
turbidityChannel = 0
phChannel = 0
sleepTime = 2
ctr = 0
arrayLength = 40
printInterval = .800
samplingInterval = 20

def voltArray(arrayLength, mcp, channel):
    voltArray = np.zeros(arrayLength,float)
    i = 0
    while i < arrayLength:
        data = mcp.read_adc(channel)
        voltArray[i] = data
        i = i + 1
        sleep(.800)
    return voltArray

def averageVolt(voltArray, number):
    minm = 0
    maxm = 0
    avg = 0
    amount = 0

    if voltArray[0] < voltArray[1]:
        minm = voltArray[0]
        maxm = voltArray[1]
    else:
        minm = voltArray[1]
        maxm = voltArray[0]
    for x in range(2,voltArray.size):
        if voltArray[x] < minm:
            amount = amount + minm
            minm = voltArray[x]
        else:
            if voltArray[x] > maxm:
                amount = amount + maxm
                maxm = voltArray[x]
            else:
                amount = amount + voltArray[x]
    avg = amount/ (number-2)
    print ("na average na")
    return avg

class TurbiditySensor(threading.Thread):

    def run(self):
        while True:
            x = voltArray(arrayLength, mcp, phChannel)
            finalVoltage = averageVolt(x, arrayLength)*5.0/1024
            print(finalVoltage)
            ctr =0
            print("pH Value :" + str(1.5*finalVoltage))
            ctr = ctr+1
            sleep(5)

turbidity = TurbiditySensor()
turbidity.start()

#Sensor Reading end

WATER QUALITY

Optimum Temperature = 77 – 82 
Optimum pH = 7.4
Optimum Turbidity = 0.1

--------------------------
ADD TO DOCU
Soda Ash
Update Docu on DE POWDER
ADD TABLES OF COMPUTATION TO DOCU
Assumption of pool size for filter is 15x30 22,000 gallons height 6ft

--------------------------
FORMULAS


Length(ft) x width(ft) x depth(ft) = cubic ft
cubic ft x 7.5 = gallons

Length x Width = sq feet
sq feet x .1 = DE POWDER x 0.8 = suggested measurement

SODA ASH AND MURIATIC
IF ph < 7.4
	FOR every 5000 gallons increment multiplier by 1
	IF PH < 6.7
		multiplier * 8 >> suggested soda ash
	ELSE IF PH <= 7
		multiplier * 6 >> suggested soda ash
	ELSE IF PH <= 7.2
		multiplier * 4 >> suggested soda ash
	ELSE IF PH < 7.4
		multiplier * 3 >> suggested soda ash
ELSE PH > 7.4
	FOR EVERY 5000 gallons increment multiplier by 1
	IF PH > 8.4
		multiplier * 16 >> suggested muriatic acid
	ELSE IF PH >= 8.0
		multiplier * 12 >> suggested muriatic acid
	ELSE IF PH >= 7.8
		multiplier * 8 >> suggested muriatic acid
	ELSE IF PH >= 7.6
		multiplier * 6 >> suggested muriatic acid
ELSE // 7.4 is optimum
	PH LEVEL IS BALANCED
	
PH LEVEL THRESHOLD
7.2-7.8

// Temp to pH

if pH == 7.2 && Temp > 25 Celcius
         pH = 7.1
         pool reading = Slightly Lower pH ( ~7.1)
elif pH == 7.8 && Temp < 25 Celcius
         pH = 7.9
         pool reading = Slightly Higher pH (~7.9)
else
         pool = Normal
		 
		 
//chlorine formula