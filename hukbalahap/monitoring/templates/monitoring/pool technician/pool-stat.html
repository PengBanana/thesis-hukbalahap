{% extends "monitoring/pool technician/starter.html" %}
{% block scripts %}
<script>
    new Morris.Line({
        element: 'phChart',
        data: [
            {% for item in ph %}
            {y: '{{item.final_phdatetime|date:"Y-m-d H:00:00"}}', item1: '{{item.final_phlevel}}' }{% if not forloop.last %},{% endif %}
            {% endfor %}
        ],
        xkey: 'y',
        ykeys: ['item1'],
        lineColors: ['#3c8dbc'],
        labels: ['PH level']
    });
    
    new Morris.Line({
        element: 'tempChart',
        data: [
            {% for item in temperature %}
            {y: '{{item.final_temperaturedatetime|date:"Y-m-d H:00:00"}}', item1: '{{item.final_temperaturelevel}}' }{% if not forloop.last %},{% endif %}
            {% endfor %}
        ],
        xkey: 'y',
        ykeys: ['item1'],
        lineColors: ['#3c8dbc'],
        labels: ['Temperature level']
    });
    
    new Morris.Line({
        element: 'turbidityChart',
        data: [
            {% for item in turbidity %}
            {y: '{{item.final_turbiditydatetime|date:"Y-m-d H:00:00"}}', item1: '{{item.final_turbiditylevel}}' }{% if not forloop.last %},{% endif %}
            {% endfor %}
        ],
        xkey: 'y',
        ykeys: ['item1'],
        lineColors: ['#3c8dbc'],
        labels: ['Temperature level']
    });
</script>
{% endblock %}
{% block content %}
  <h1>{{pool}}</h1>

  <div class="row">
    <div class ="col-xs-12">
      <div class="form-group">
        <label>Date range button:</label>

        <div class="input-group">
          <button type="button" class="btn btn-default pull-right" id="daterange-btn">
            <span>
              <i class="fa fa-calendar"></i> Date range picker
            </span>
            <i class="fa fa-caret-down"></i>
          </button>
        </div>
      </div>
    </div>
  </div>

  <div class="row">
    <div class="col-md-12">
      <!-- LINE CHART -->
      <div class="box box-info">
        <div class="box-header with-border">
          <h3 class="box-title">pH Level</h3>

          <div class="box-tools pull-right">
            <button type="button" class="btn btn-box-tool" data-widget="collapse"><i class="fa fa-minus"></i>
            </button>
          </div>
        </div>
        <div class="box-body chart-responsive">
          <div class="chart" id="phChart" style="height: 150px;">

          </div>
        </div>
        <!-- /.box-body -->
      </div>
      <!-- /.box -->

    </div>
  </div>

  <div class="row">
    <div class="col-md-12">
      <!-- LINE CHART -->
      <div class="box box-info">
        <div class="box-header with-border">
          <h3 class="box-title">Temperature Level</h3>

          <div class="box-tools pull-right">
            <button type="button" class="btn btn-box-tool" data-widget="collapse"><i class="fa fa-minus"></i>
            </button>
          </div>
        </div>
        <div class="box-body chart-responsive">
          <div class="chart" id="tempChart" style="height: 150px;">

          </div>
        </div>
        <!-- /.box-body -->
      </div>
      <!-- /.box -->


    </div>
  </div>

  <div class="row">
    <div class="col-md-12">
      <!-- LINE CHART -->
      <div class="box box-info">
        <div class="box-header with-border">
          <h3 class="box-title">Turbidity Level</h3>

          <div class="box-tools pull-right">
            <button type="button" class="btn btn-box-tool" data-widget="collapse"><i class="fa fa-minus"></i>
            </button>
          </div>
        </div>
        <div class="box-body chart-responsive">
          <div class="chart" id="turbidityChart" style="height: 150px;">

          </div>
        </div>
        <!-- /.box-body -->
      </div>
      <!-- /.box -->


    </div>
  </div>

  <div class="row">
    <div class="col-md-12">
      <!-- LINE CHART -->
      <div class="box box-info">
        <div class="box-header with-border">
          <h3 class="box-title">Chlorine Effectiveness Level</h3>

          <div class="box-tools pull-right">
            <button type="button" class="btn btn-box-tool" data-widget="collapse"><i class="fa fa-minus"></i>
            </button>
          </div>
        </div>
        <div class="box-body chart-responsive">
          <div class="chart" id="line-chart-chlorine" style="height: 150px;">

          </div>
        </div>
        <!-- /.box-body -->
      </div>
      <!-- /.box -->


    </div>
  </div>

  {% endblock %}
